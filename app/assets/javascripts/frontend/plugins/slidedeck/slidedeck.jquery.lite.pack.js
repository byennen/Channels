var SlideDeck;var SlideDeckSkin={};(function(a){window.SlideDeck=function(b,c){var d=this,b=a(b);var e="1.3.0";this.options={speed:500,transition:"swing",start:1,activeCorner:true,index:true,scroll:true,keys:true,autoPlay:false,autoPlayInterval:5e3,hideSpines:false,cycle:false,slideTransition:"slide"};this.classes={slide:"slide",spine:"spine",label:"label",index:"index",active:"active",indicator:"indicator",activeCorner:"activeCorner",disabled:"disabled",vertical:"slidesVertical",previous:"previous",next:"next"};this.current=1;this.deck=b;this.former=-1;this.spines=b.children("dt");this.slides=b.children("dd");this.controlTo=1;this.session=[];this.disabledSlides=[];this.pauseAutoPlay=false;this.isLoaded=false;var f=navigator.userAgent.toLowerCase();this.browser={chrome:f.match(/chrome/)?true:false,firefox:f.match(/firefox/)?true:false,firefox2:f.match(/firefox\/2/)?true:false,firefox30:f.match(/firefox\/3\.0/)?true:false,msie:f.match(/msie/)?true:false,msie6:f.match(/msie 6/)&&!f.match(/msie 7|8/)?true:false,msie7:f.match(/msie 7/)?true:false,msie8:f.match(/msie 8/)?true:false,msie9:f.match(/msie 9/)?true:false,chromeFrame:f.match(/msie/)&&f.match(/chrome/)?true:false,opera:f.match(/opera/)?true:false,safari:f.match(/safari/)&&!f.match(/chrome/)?true:false};for(var g in this.browser){if(this.browser[g]===true){this.browser._this=g}}if(this.browser.chrome===true&&!this.browser.chromeFrame){this.browser.version=f.match(/chrome\/([0-9\.]+)/)[1]}if(this.browser.firefox===true){this.browser.version=f.match(/firefox\/([0-9\.]+)/)[1]}if(this.browser.msie===true){this.browser.version=f.match(/msie ([0-9\.]+)/)[1]}if(this.browser.opera===true){this.browser.version=f.match(/version\/([0-9\.]+)/)[1]}if(this.browser.safari===true){this.browser.version=f.match(/version\/([0-9\.]+)/)[1]}var h;var i;var j,k,l,m;this.looping=false;var n="";switch(d.browser._this){case"firefox":case"firefox3":n="-moz-";break;case"chrome":case"safari":n="-webkit-";break;case"opera":n="-o-";break}var o=function(a){if(d.browser.msie&&!d.browser.msie9){var b=a.css("background-color");var c=b;if(c=="transparent"){b="#ffffff"}else{if(c.match("#")){if(c.length<7){var e="#"+c.substr(1,1)+c.substr(1,1)+c.substr(2,1)+c.substr(2,1)+c.substr(3,1)+c.substr(3,1);b=e}}}b=b.replace("#","");var f={r:b.substr(0,2),g:b.substr(2,2),b:b.substr(4,2)};var g="#";var h="01234567890ABCDEF";for(var i in f){f[i]=Math.max(0,parseInt(f[i],16)-1);f[i]=h.charAt((f[i]-f[i]%16)/16)+h.charAt(f[i]%16);g+=f[i]}a.find("."+d.classes.index).css({filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1) chroma(color="+g+")",backgroundColor:g})}};var p={id:"SlideDeck_Bug"+Math.round(Math.random()*1e8),styles:"position:absolute !important;height:"+13+"px !important;width:"+130+"px !important;display:block !important;margin:0 !important;overflow:hidden !important;visibility:visible !important;opacity:1 !important;padding:0 !important;z-index:900 !important",width:130,height:13};var q=function(){};var r=function(){gotoNext=function(){if(d.pauseAutoPlay===false){if(d.options.cycle===false&&d.current==d.slides.length){d.pauseAutoPlay=true}else{d.next()}}};setInterval(gotoNext,d.options.autoPlayInterval)};var s=function(a,c){var e={display:"block"};e[n+"transform-origin"]="50% 50%";e[n+"transform"]="";if(c<d.current){var f=c*k;if(d.options.hideSpines===true){if(c==d.current-1){f=0}else{f=0-(d.options.start-c-1)*b.width()}}}else{var f=c*k+l;if(d.options.hideSpines===true){f=(c+1-d.options.start)*b.width()}}switch(a){case"slide":default:e.left=f;e.zIndex=1;break}d.slides.eq(c).css(n+"transition","").css(e);return f};var t=function(){if(a.inArray(b.css("position"),["position","absolute","fixed"])){b.css("position","relative")}b.css("overflow","hidden");for(var c=0;c<d.slides.length;c++){var e=a(d.slides[c]);if(d.spines.length>c){var f=a(d.spines[c])}var g={top:parseInt(e.css("padding-top"),10),right:parseInt(e.css("padding-right"),10),bottom:parseInt(e.css("padding-bottom"),10),left:parseInt(e.css("padding-left"),10)};var h={top:parseInt(e.css("border-top-width"),10),right:parseInt(e.css("border-right-width"),10),bottom:parseInt(e.css("border-bottom-width"),10),left:parseInt(e.css("border-left-width"),10)};for(var n in h){h[n]=isNaN(h[n])?0:h[n]}if(c<d.current){if(c==d.current-1){if(d.options.hideSpines!==true){f.addClass(d.classes.active)}e.addClass(d.classes.active)}}d.slide_width=l-g.left-g.right-h.left-h.right;var p={position:"absolute",zIndex:1,height:i-g.top-g.bottom-h.top-h.bottom+"px",width:d.slide_width+"px",margin:0,paddingLeft:g.left+k+"px"};var t=s(d.options.slideTransition,c);e.css(p).addClass(d.classes.slide).addClass(d.classes.slide+"_"+(c+1));if(d.options.hideSpines!==true){var u={top:parseInt(f.css("padding-top"),10),right:parseInt(f.css("padding-right"),10),bottom:parseInt(f.css("padding-bottom"),10),left:parseInt(f.css("padding-left"),10)};for(var n in u){if(u[n]<10&&(n=="left"||n=="right")){u[n]=10}}var v=u.top+"px "+u.right+"px "+u.bottom+"px "+u.left+"px";var w={position:"absolute",zIndex:3,display:"block",left:t,width:i-u.left-u.right+"px",height:j+"px",padding:v,rotation:"270deg","-webkit-transform":"rotate(270deg)","-webkit-transform-origin":m+"px 0px","-moz-transform":"rotate(270deg)","-moz-transform-origin":m+"px 0px","-o-transform":"rotate(270deg)","-o-transform-origin":m+"px 0px",textAlign:"right"};if(!d.browser.msie9){w.top=d.browser.msie?0:i-m+"px";w.marginLeft=(d.browser.msie?0:0-m)+"px";w.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}f.css(w).addClass(d.classes.spine).addClass(d.classes.spine+"_"+(c+1));if(d.browser.msie9){f[0].style.msTransform="rotate(270deg)";f[0].style.msTransformOrigin=Math.round(parseInt(b[0].style.height,10)/2)+"px "+Math.round(parseInt(b[0].style.height,10)/2)+"px"}}else{if(typeof f!="undefined"){f.hide()}}if(c==d.slides.length-1){e.addClass("last");if(d.options.hideSpines!==true){f.addClass("last")}}if(d.options.activeCorner===true&&d.options.hideSpines===false){var x=document.createElement("DIV");x.className=d.classes.activeCorner+" "+(d.classes.spine+"_"+(c+1));f.after(x);f.next("."+d.classes.activeCorner).css({position:"absolute",top:"25px",left:t+k+"px",overflow:"hidden",zIndex:"900"}).hide();if(f.hasClass(d.classes.active)){f.next("."+d.classes.activeCorner).show()}}if(d.options.hideSpines!==true){var y=document.createElement("DIV");y.className=d.classes.index;if(d.options.index!==false){var z;if(typeof d.options.index!="boolean"){z=d.options.index[c%d.options.index.length]}else{z=""+(c+1)}y.appendChild(document.createTextNode(z))}f.append(y);f.find("."+d.classes.index).css({position:"absolute",zIndex:2,display:"block",width:j+"px",height:j+"px",textAlign:"center",bottom:(d.browser.msie?0:0-m)+"px",left:(d.browser.msie?5:20)+"px",rotation:"90deg","-webkit-transform":"rotate(90deg)","-webkit-transform-origin":m+"px 0px","-moz-transform":"rotate(90deg)","-moz-transform-origin":m+"px 0px","-o-transform":"rotate(90deg)","-o-transform-origin":m+"px 0px"});if(d.browser.msie9){f.find("."+d.classes.index)[0].style.msTransform="rotate(90deg)"}o(f)}}q();if(d.options.hideSpines!==true){d.spines.bind("click",function(a){a.preventDefault();d.goTo(d.spines.index(this)+1)})}if(d.options.keys!==false){a(document).bind("keydown",function(b){if(a(b.target).parents().index(d.deck)==-1){if(b.keyCode==39){d.pauseAutoPlay=true;d.next()}else if(b.keyCode==37){d.pauseAutoPlay=true;d.prev()}}})}if(typeof a.event.special.mousewheel!="undefined"){b.bind("mousewheel",function(b){if(d.options.scroll!==false){var c=b.detail?b.detail:b.wheelDelta;if(d.browser.msie||d.browser.safari||d.browser.chrome){c=0-c}var e=false;if(a(b.originalTarget).parents(d.deck).length){if(a.inArray(b.originalTarget.nodeName.toLowerCase(),["input","select","option","textarea"])!=-1){e=true}}if(e!==true){if(c>0){switch(d.options.scroll){case"stop":b.preventDefault();break;case true:default:if(d.current<d.slides.length||d.options.cycle==true){b.preventDefault()}break}d.pauseAutoPlay=true;d.next()}else{switch(d.options.scroll){case"stop":b.preventDefault();break;case true:default:if(d.current!=1||d.options.cycle==true){b.preventDefault()}break}d.pauseAutoPlay=true;d.prev()}}}})}a(d.spines[d.current-2]).addClass(d.classes.previous);a(d.spines[d.current]).addClass(d.classes.next);if(d.options.autoPlay===true){r()}d.isLoaded=true};var u=function(a){a=Math.min(d.slides.length,Math.max(1,a));return a};var v=function(a){var b=[];if(typeof d.options.complete=="function"){b.push(function(){d.options.complete(d)})}switch(typeof a){case"function":b.push(function(){a(d)});break;case"object":b.push(function(){a.complete(d)});break}var c=function(){d.looping=false;for(var a=0;a<b.length;a++){b[a]()}};return c};var w={slide:function(c,e,f){for(var g=0;g<d.slides.length;g++){var h=0;if(d.options.hideSpines!==true){var i=a(d.spines[g])}var j=a(d.slides[g]);if(g<d.current){if(g==d.current-1){j.addClass(d.classes.active);if(d.options.hideSpines!==true){i.addClass(d.classes.active);i.next("."+d.classes.activeCorner).show()}}h=g*k}else{h=g*k+l}if(d.options.hideSpines===true){h=(g-d.current+1)*b.width()}var m={duration:d.options.speed,easing:d.options.transition};if(g==(f===true&&d.current-1)||g==(f===false&&d.current)){if(g===0){m.complete=v(e)}}j.stop().animate({left:h+"px",width:d.slide_width+"px"},m);if(d.options.hideSpines!==true){o(i);if(i.css("left")!=h+"px"){i.stop().animate({left:h+"px"},{duration:d.options.speed,easing:d.options.transition});i.next("."+d.classes.activeCorner).stop().animate({left:h+k+"px"},{duration:d.options.speed,easing:d.options.transition})}}}}};var x=function(a,c){a=u(a);if((a<=d.controlTo||d.options.controlProgress!==true)&&d.looping===false){var e=true;if(a<d.current){e=false}var f=[d.classes.active,d.classes.next,d.classes.previous].join(" ");d.former=d.current;d.current=a;if(typeof d.options.before=="function"){d.options.before(d)}if(typeof c!="undefined"){if(typeof c.before=="function"){c.before(d)}}d.spines.removeClass(f);d.slides.removeClass(f);b.find("."+d.classes.activeCorner).hide();d.spines.eq(d.current-2).addClass(d.classes.previous);d.spines.eq(d.current).addClass(d.classes.next);if(d.current!=d.former){var g="slide";if(typeof w[d.options.slideTransition]!="undefined"){g=d.options.slideTransition}w[g](a,c,e)}q()}};var y=function(b,c){var e=b;if(typeof b==="string"){e={};e[b]=c}for(var f in e){c=e[f];switch(f){case"speed":case"start":c=parseFloat(c);if(isNaN(c)){c=d.options[f]}break;case"scroll":case"keys":case"activeCorner":case"hideSpines":case"autoPlay":case"cycle":if(typeof c!=="boolean"){c=d.options[f]}break;case"transition":if(typeof c!=="string"){c=d.options[f]}break;case"complete":case"before":if(typeof c!=="function"){c=d.options[f]}break;case"index":if(typeof c!=="boolean"){if(!a.isArray(c)){c=d.options[f]}}break}d.options[f]=c}};var z=function(){i=b.height();h=b.width();b.css("height",i+"px");j=0;k=0;if(d.options.hideSpines!==true&&d.spines.length>0){j=a(d.spines[0]).height();k=a(d.spines[0]).outerHeight()}l=h-k*d.spines.length;if(d.options.hideSpines===true){l=h}m=Math.ceil(j/2)};var A=function(a){if(d.browser.opera&&d.browser.version<"10.5"||d.browser.msie6||d.browser.firefox2||d.browser.firefox30){if(typeof console!="undefined"){if(typeof console.error=="function"){console.error("This web browser is not supported by SlideDeck. Please view this page in a modern, CSS3 capable browser or a current version of Inernet Explorer")}}return false}if(typeof a!="undefined"){for(var c in a){d.options[c]=a[c]}}if(d.spines.length<1){d.options.hideSpines=true}if(d.options.hideSpines===true){d.options.activeCorner=false}d.options.slideTransition="slide";d.current=Math.min(d.slides.length,Math.max(1,d.options.start));if(b.height()>0){z();t()}else{var e;e=setTimeout(function(){z();if(b.height()>0){clearInterval(e);z();t()}},20)}};var B=function(a){var b;b=setInterval(function(){if(d.isLoaded===true){clearInterval(b);a(d)}},20)};this.loaded=function(a){B(a);return d};this.next=function(a){var b=Math.min(d.slides.length,d.current+1);if(d.options.cycle===true){if(d.current+1>d.slides.length){b=1}}x(b,a);return d};this.prev=function(a){var b=Math.max(1,d.current-1);if(d.options.cycle===true){if(d.current-1<1){b=d.slides.length}}x(b,a);return d};this.goTo=function(a,b){d.pauseAutoPlay=true;x(Math.min(d.slides.length,Math.max(1,a)),b);return d};this.setOption=function(a,b){y(a,b);return d};this.vertical=function(){return false};A(c)};a.fn.slidedeck=function(a){var b=[];for(var c=0;c<this.length;c++){if(!this[c].slidedeck){this[c].slidedeck=new SlideDeck(this[c],a)}b.push(this[c].slidedeck)}return b.length>1?b:b[0]}})(jQuery)